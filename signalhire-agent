#!/bin/bash

# SignalHire Agent - Universal launcher script
# This script works whether the package is installed or not

# Get the actual script location (resolves symlinks)
SCRIPT_PATH="$(readlink -f "${BASH_SOURCE[0]}")"
SCRIPT_DIR="$(dirname "$SCRIPT_PATH")"

# Check if we're in the project directory and run.py exists
if [ -f "$SCRIPT_DIR/run.py" ]; then
    # Use run.py method for dependency handling
    cd "$SCRIPT_DIR"
    python3 "$SCRIPT_DIR/run.py" -m src.cli.main "$@"
else
    # Try to use installed package
    python3 -m cli.main "$@" 2>/dev/null || {
        echo "❌ SignalHire Agent not found"
        echo "Please run setup: ./setup.sh"
        exit 1
    }
fi