# signalhireagent Development Guidelines

Auto-generated from all feature plans. Last updated: 2025-09-11

## üö® CRITICAL: Commit Message Requirements for GEMINI
**MANDATORY**: Include your identity and task reference in ALL commits:

```bash
# Template for GEMINI commits:
git commit -m "$(cat <<'EOF'
[GEMINI_ACTION]: Brief description of changes

- Specific change 1
- Specific change 2  
- Reference to task numbers completed (e.g., T029, T031)

Gemini completed: T### Task description
Supports: [Project specification reference]

ü§ñ Generated by Gemini with Claude Code

Co-Authored-By: Gemini <noreply@anthropic.com>
EOF
)"
```

**Example GEMINI commit:**
```bash
git commit -m "$(cat <<'EOF'
docs(cli): Update CLI command documentation with comprehensive examples

- Add usage examples for all workflow commands
- Include rate limiting guidance and credit management
- Document API-first approach with fallback strategies
- Add troubleshooting section for common scenarios

Gemini completed: T029 Update CLI command documentation with examples
Supports: 002-create-a-professional specification

ü§ñ Generated by Gemini with Claude Code

Co-Authored-By: Gemini <noreply@anthropic.com>
EOF
)"
```

## Task Completion Protocol
- ‚úÖ **ALWAYS mark tasks as complete** with `[x]` in tasks.md
- ‚úÖ **ALWAYS commit with proper agent attribution** 
- ‚úÖ **Reference specific task numbers** (T029, T031, etc.)
- ‚úÖ **Use GEMINI identity** in commit messages

## Active Technologies
- Python 3.11 + asyncio (signalhireagent)
- Stagehand (AI browser automation with Playwright)
- FastAPI (callback server for webhooks/status)
- httpx (async HTTP client for API monitoring only)  
- pandas (CSV data processing and export)
- pydantic (data validation and models)
## Project Structure
```
src/
‚îú‚îÄ‚îÄ models/              # Data models (Prospect, SearchCriteria, etc.)
‚îú‚îÄ‚îÄ services/            # Business logic (search, reveal, export services)
‚îú‚îÄ‚îÄ cli/                 # Command-line interface
‚îî‚îÄ‚îÄ lib/                 # Libraries (browser_client, csv_exporter, rate_limiter)
tests/
‚îú‚îÄ‚îÄ contract/            # Browser automation contract tests
‚îú‚îÄ‚îÄ integration/         # End-to-end workflow tests
‚îî‚îÄ‚îÄ unit/               # Unit tests for individual components
```

## Commands
```bash
# Search and reveal prospects via web interface
signalhire search --title "Software Engineer" --location "San Francisco" --company "Tech Corp" --limit 50

# Bulk reveal using SignalHire's native web export (1000+ contacts)
signalhire bulk-reveal --search-id <id> --export-format csv --output results.csv

# Monitor credits via API
signalhire credits --check

# List and manage saved searches from web interface
signalhire list-searches
signalhire export-search --search-id <id> --format csv
```

## Code Style
Python: Follow PEP 8, use async/await patterns, structured logging with JSON
TypeScript: ESLint + Prettier for Stagehand automation scripts

## Development and Testing
- To run tests, use the `run.py` script. This ensures that the environment is set up correctly and all dependencies are available.
- Example: `python3 run.py -m pytest tests/unit/test_logger.py`

## Task Assignment & Coordination

### My Responsibilities (@gemini)
**Check `specs/001-looking-to-build/tasks.md` for @gemini assignments:**
- Performance testing and optimization analysis
- Documentation creation (README.md, API docs)
- Research tasks for best practices and external integrations
- Code review and quality improvement suggestions

### Task Workflow & Completion Requirements
1. **Check for assignments**: Look for `@gemini` in tasks.md
2. **Implement the task**: Follow the task description and requirements
3. **Write unit tests**: Create corresponding tests if implementation involves code
4. **COMMIT YOUR WORK**: All agents MUST commit their code changes when tasks are complete
5. **Mark completion**: Change `[ ]` to `[x]` in tasks.md immediately after finishing - this is your commitment symbol
6. **Document**: Add any necessary documentation or comments

### Critical Completion Protocol
- ‚úÖ **ALWAYS commit code changes** when completing tasks
- ‚úÖ **ALWAYS mark tasks as complete** with `[x]` symbol in tasks.md
- ‚úÖ **Use completion symbols** to show you have committed your work
- ‚ùå **NEVER leave uncommitted work** when marking tasks complete

### Current @gemini Tasks
```bash
# Check my current assignments:
grep "@gemini" specs/001-looking-to-build/tasks.md
```

### Example Task Pattern
```
- [ ] T037 @gemini Performance tests for bulk operations (<600 elements/minute)
```
**After completion:**
```  
- [x] T037 @gemini Performance tests for bulk operations (<600 elements/minute)
```

## Recent Changes
- 001-looking-to-build: Added SignalHire lead generation agent with web-based contact reveal + native CSV export

## Prerequisites
- SignalHire account with new UI enabled (click the UI toggle icon on right side of page)
- Valid SignalHire credentials in environment variables (SIGNALHIRE_EMAIL, SIGNALHIRE_PASSWORD)
- Chrome/Chromium browser for Stagehand automation
- New UI provides cleaner interface that's easier for AI agents to navigate

<!-- MANUAL ADDITIONS START -->

## WSL Environment Notes
- When reading screenshots or working with Windows paths, always use WSL-compatible paths (e.g., `/mnt/c/` instead of `C:\`)
- Screenshots saved by Windows applications should be accessed via WSL path format

- Always use absolute paths when reading files

## Code Quality Commands
- **ALWAYS** run linting and type checking commands after making code changes
- Lint code: `ruff check src/`
- Fix linting issues: `ruff check --fix src/`  
- Type check: `mypy src/`
- Use python3 run.py instead of direct pytest commands for consistent environment setup
- Test message for consistent behavior
- Always validate input parameters in all functions
- Never commit secrets or API keys - always use environment variables and .env files
- You're absolutely right - the environment variable issue is frustrating! The problem is that we're running Python from Windows but the .env file is in the WSL filesystem, so the environment variables aren't being loaded properly. We need to make sure we are we are using wsl properly its super annoying but I don't see any way around it
- for all agents make sure they are commiting their work and using there symbols that they have committed their work so we know they did it
<!-- MANUAL ADDITIONS END -->
